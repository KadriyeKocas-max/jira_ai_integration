<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jira Issues Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #f8fafc; padding: 2rem; }
    h2 { margin-bottom: 1.5rem; color: #2c3e50; }
    table { background: #fff; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    th, td { padding: 12px 15px; text-align: left; }
    th { background-color: #001f3f; color: #fff; }
    tr:nth-child(even) { background-color: #f4f6f8; }
  </style>
</head>
<body>

<h2>Jira Issues Dashboard</h2>

{% for key, project in project_issues.items %}
  <h3>{{ project.name }} ({{ key }})</h3>
  {% if project.issues %}
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Key</th>
        <th>Summary</th>
        <th>Status</th>
        <th>Assignee</th>
      </tr>
    </thead>
    <tbody>
      {% for issue in project.issues %}
      <tr>
        <td>{{ issue.key }}</td>
        <td>{{ issue.fields.summary }}</td>
        <td>{{ issue.fields.status.name }}</td>
        <td>
          {% if issue.fields.assignee %}
            {{ issue.fields.assignee.displayName }}
          {% else %}
            Unassigned
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>Bu projede sana atanmış görev yok.</p>
  {% endif %}
{% endfor %}

</body>
</html>
